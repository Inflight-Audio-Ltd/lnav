[31m2025-04-11 22:14:12.837 +0000[0m[31m [[0m[31m1329108[0m[31m] [0m[31mERROR[0m[31m:  [0m[31msyntax error at or near "null" at character 510[0m
[32m â”œ org.postgresql.statement-error:[0m
[32m â”‚ [0m â–Œ[1m[36m[40mcreate[0m[37m[40m [0m[1m[36m[40mtable[0m[37m[40m [0m[1m[36m[40mif[0m[37m[40m [0m[1m[36m[40mnot[0m[37m[40m [0m[1m[36m[40mexists[0m[37m[40m [0m[37m[40mscrape_memory[0m[37m[40m [0m[1m[7m[31m[40m([0m[37m[40m                   [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mid[0m[37m[40m [0m[37m[40msmallserial[0m[37m[40m [0m[1m[36m[40mprimary[0m[37m[40m [0m[1m[36m[40mkey[0m[37m[40m,                              [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mcreated[0m[37m[40m [0m[1m[36m[40mtimestamp[0m[37m[40m [0m[1m[36m[40mdefault[0m[37m[40m [0m[1m[36m[40mCURRENT_TIMESTAMP[0m[37m[40m [0m[1m[36m[40mnot[0m[37m[40m [0m[1m[36m[40mnull[0m[37m[40m,    [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mtotal_ms[0m[37m[40m [0m[1m[36m[40msmallint[0m[37m[40m [0m[1m[36m[40mnull[0m[37m[40m,                                  [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mpgnet_id[0m[37m[40m [0m[1m[36m[40mbigint[0m[37m[40m [0m[1m[36m[40munique[0m[37m[40m [0m[1m[36m[40mnot[0m[37m[40m [0m[1m[36m[40mnull[0m[37m[40m,                         [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mis_completed[0m[37m[40m [0m[1m[36m[40mboolean[0m[37m[40m [0m[1m[36m[40mnull[0m[37m[40m,                               [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mstatus_code[0m[37m[40m [0m[1m[36m[40msmallint[0m[37m[40m [0m[1m[36m[40mnull[0m[37m[40m,                               [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[32m[40m-- purpose_endpoint EnumScrapeEndpoint not null,[0m[37m[40m         [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[32m[40m-- purpose_initiation EnumScrapeInitiation not null,[0m[37m[40m     [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[32m[40m-- purpose_reason EnumScrapeReason not null,[0m[37m[40m             [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[32m[40m-- endpoint_id smallint not null,[0m[37m[40m                        [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[32m[40m-- proxy_id smallint not null,[0m[37m[40m                           [0m
[32m â”‚ [0m â–Œ[37m[40m    [0m[37m[40mplzsuche_plz[0m[37m[40m [0m[1m[36m[40mnull[0m[37m[40m [0m[1m[36m[40mnumeric[0m[37m[40m([0m[1m[37m[40m5[0m[37m[40m, [0m[1m[37m[40m0[0m[37m[40m),                         [0m
[32m â”‚ [0m
[32m â•° [0m â–Œ                 [31m^^^^[0m syntax error at or near "null" at character 510 
2025-04-11 22:14:12.837 +0000 [1329108] STATEMENT:  create table if not exists scrape_memory (
	    id smallserial primary key,
	    created timestamp default CURRENT_TIMESTAMP not null,
	    total_ms smallint null,
	    pgnet_id bigint unique not null,
	    is_completed boolean null,
	    status_code smallint null,
	    -- purpose_endpoint EnumScrapeEndpoint not null,
	    -- purpose_initiation EnumScrapeInitiation not null,
	    -- purpose_reason EnumScrapeReason not null,
	    -- endpoint_id smallint not null,
	    -- proxy_id smallint not null,
	    plzsuche_plz null numeric(5, 0),
	    response_count smallint null
	    generated always as (jsonb_path_query_first(
	        target := response_body,
	        path   := '$.maxErgebnisse ? (@ >= 0 && @ <= 10000)'
	    )::smallint) stored,
	    response_page smallint null
	    generated always as (jsonb_path_query_first(
	        target := response_body,
	        path   := '$.page ? (@ >= 1 && @ <= 1000)'
	    )::smallint) stored,
	    -- -- Let's genuinely hope I won't be regretting this kind of rigour when the AoA
	    -- -- API becomes buggy.
	    response_size smallint null
	    generated always as (jsonb_path_query_first(
	        target := response_body,
	        path   := '$.size ? (@ >= 0 && @ <= 250 && @ == $.stellenangebote.size())'
	    )::smallint) stored,
	    response_plzsuche_plz numeric(5, 0) null
	    generated always as (jsonb_path_query_first(
	        target := response_body,
	        path   := '$.woOutput.bereinigterOrt.number() ? ($.woOutput.suchmodus == "PLZSUCHE")'
	    )::numeric(5, 0)) stored,
	    request_body jsonb null,
	    response_body jsonb null,
	    response_headers jsonb null
	);
[33m2025-04-11 22:14:12.884 +0000[0m[33m [[0m[33m1329108[0m[33m] [0m[33mWARNING[0m[33m:  [0m[33mthere is no transaction in progress[0m
[31m2025-04-11 22:17:29.552 +0000[0m[31m [[0m[31m1329108[0m[31m] [0m[31mERROR[0m[31m:  [0m[31mrelation "scrape_memory" does not exist[0m
2025-04-11 22:17:29.552 +0000 [1329108] STATEMENT:  truncate table scrape_memory restart identity;
[33m2025-04-11 22:17:29.596 +0000[0m[33m [[0m[33m1329108[0m[33m] [0m[33mWARNING[0m[33m:  [0m[33mthere is no transaction in progress[0m
2025-04-11 22:17:46.846 +0000 [1329108] NOTICE:  table "scrape_memory" does not exist, skipping
